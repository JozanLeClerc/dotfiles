#!/usr/local/bin/dash

curr_vol=$(mixer -s vol | tr ':' '\t' | awk '{print $2}')

if [ "$curr_vol" -gt 0 ]; then
	echo "$curr_vol" > "$HOME"/.cache/mixervol
	mixer vol 0 >/dev/null 2>&1
	notify-send -u low -t 1750 "Volume muted"
else
	rvol=$(cat "$HOME"/.cache/mixervol)
	mixer vol "$rvol" >/dev/null 2>&1
	notify-send -u low -t 1750 "Volume restored - $rvol%"
fi
